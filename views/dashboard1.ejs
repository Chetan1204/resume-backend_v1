<div style="width: 100%;height: 100%;padding: 15px;overflow-y: auto;color: #484848;">
	<h1 style="font-size: 22px;">Dashboard</h1>
	<div class="msg-container" style="width: 50%;">
		<% message?.forEach(msgItem =>{ %>
			<div class="msg" style="background-color: <%= msgItem?.success ? '#fff':'#FFB0B03f' %>;">
				<p style="text-transform:capitalize"><i class="<%= msgItem?.success ? 'fa-regular fa-bell' : 'fa-solid fa-circle-exclamation' %>" style="color:<%= msgItem?.success ? '#484848':'#D04848'  %>"></i><%= msgItem?.message || 'Howdy! Here is a quick overview of everything.' %></p>
				<button class="close-msg-btn" onclick="closeMessage(this)">&times;</button>
			</div>
		<% }) %>
	</div>
	<div style="display: flex;align-items: flex-start;gap: 15px;flex-direction: column;">
		<div style="border: 1px solid rgba(0,0,0,0.25);background-color: #fff;display: flex;flex-direction: column;width: fit-content;">
			<div style="width: 450px;"  data-bs-toggle="collapse" data-bs-target="#overviewCollapse" aria-expanded="false" aria-controls="overviewCollapse">
				<h2 style="font-size: 14px;font-weight: 500;color: #484848;width: 400px;display: inline-block;margin: 0px;padding: 10px;">At a Glance</h2>
				<button style="width: 45px;display: inline-block;border: none;outline: none;background-color: #fff;padding: 0px;"><i class="fa-solid fa-caret-down" style="color: #959595;"></i></button>
				<div class="collapse show" id="overviewCollapse">
					<div style="border-top: 1px solid rgba(0,0,0,0.25);padding: 10px;">
						<div style="display: flex;align-items: center;padding: 5px;">
							<div style="width: 50%;font-size: 14px;"><i class="fa-solid fa-thumbtack" style="color: #8a8989;"></i> <a href="" style="color: #2271b1;">121 Posts</a></div>
							<div style="width: 50%;font-size: 14px;"><i class="fa-solid fa-copy" style="color: #8a8989;"></i> <a href="" style="color: #2271b1;">7 Pages</a></div>
						</div>
						<p style="margin: 10px 0px; font-size: 13px;">Learn more about the stats by visiting the <a href="#" style="color: #2271b1;text-decoration: underline;">documentation</a></p>
					</div>
				</div>
			</div>
		</div>
		<div style="border: 1px solid rgba(0,0,0,0.25);background-color: #fff;display: flex;flex-direction: column;width: fit-content;">
			<div style="width: 450px;"  data-bs-toggle="collapse" data-bs-target="#activityCollapse" aria-expanded="false" aria-controls="activityCollapse">
				<h2 style="font-size: 14px;font-weight: 500;color: #484848;width: 400px;display: inline-block;margin: 0px;padding: 10px;">Post Activity</h2>
				<button style="width: 45px;display: inline-block;border: none;outline: none;background-color: #fff;padding: 0px;"><i class="fa-solid fa-caret-down" style="color: #959595;"></i></button>
				<div class="collapse show" id="activityCollapse">
					<div style="border-top: 1px solid rgba(0,0,0,0.25);">
						<p style="margin: 0px;color: #8a8989;font-size: 14px;font-weight: 400;padding: 10px;">Recently Published</p>
						<table>
							<tbody>
								<% posts?.forEach(post => { %>
									<tr>
										<td style="padding: 10px; width: 150px;vertical-align: top;width: 28%;"><p style="margin: 0px;color: #8a8989;font-size: 13px;font-weight: 400;"><%= post?.createdAt %></p></td>
										<td style="vertical-align: middle;width: 72%;"><p style="margin: 0px;color: #2271b1;font-size: 13px;font-weight: 400;"><%= post?.postName %></p></td>
									</tr>
								<% }) %>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div style="border: 1px solid rgba(0,0,0,0.25);background-color: #fff;display: flex;flex-direction: column;width: fit-content;">
			<div style="width: 450px;"  data-bs-toggle="collapse" data-bs-target="#pageActivityCollapse" aria-expanded="false" aria-controls="pageActivityCollapse">
				<h2 style="font-size: 14px;font-weight: 500;color: #484848;width: 400px;display: inline-block;margin: 0px;padding: 10px;">Page Activity</h2>
				<button style="width: 45px;display: inline-block;border: none;outline: none;background-color: #fff;padding: 0px;"><i class="fa-solid fa-caret-down" style="color: #959595;"></i></button>
				<div class="collapse" id="pageActivityCollapse">
					<div style="border-top: 1px solid rgba(0,0,0,0.25);">
						<p style="margin: 0px;color: #8a8989;font-size: 14px;font-weight: 400;padding: 10px;">Recently Published</p>
						<table>
							<tbody>
								<% pages?.forEach(page => { %>
									<tr>
										<td style="padding: 10px; width: 28%;vertical-align: top;"><p style="margin: 0px;color: #8a8989;font-size: 13px;font-weight: 400;"><%= page?.createdAt %></p></td>
										<td style="vertical-align: middle;width: 72%;"><p style="margin: 0px;color: #2271b1;font-size: 13px;font-weight: 400;"><%= page?.name %></p></td>
									</tr>
								<% }) %>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	function closeMessage(buttonElement) {
		const container = buttonElement.closest(".msg");
		container.style.display = 'none';
		const parent = buttonElement.closest(".msg-container");
		const children = parent.querySelectorAll(".msg");
		var visibleCount = 0;
		for(var i=0; i<children.length; i++){
			if(window.getComputedStyle(children[i]).display !== none){
				visibleCount++;
			}
		}
		if(visibleCount === 0){
			parent.style.display = 'none'
		}
	}
</script>